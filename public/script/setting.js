"use strict";function checkUser(e,n){fetch(e,n).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?username.style.backgroundColor="green":username.value==oldUser?username.style.backgroundColor="green":username.style.backgroundColor="red"})}function checkEmail(e,n){fetch(e,n).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?email.style.backgroundColor="green":email.value===oldEmail?email.style.backgroundColor="green":email.style.backgroundColor="red"})}function checkStatus(e){if(e.status>=200&&e.status<300)return e;var n=new Error(e.statusText);throw n.res=e,n}var form=document.forms.setting,username=form.username,email=form.email,us=document.getElementById("us"),em=document.getElementById("em");username.addEventListener("input",function(){checkUser("/checkusername",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:username.value})})}),email.addEventListener("input",function(){checkEmail("/checkemail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:email.value.toLowerCase()})})});