"use strict";function checkStatus(t){if(t.status>=200&&t.status<300)return t;var e=new Error(t.statusText);throw e.res=t,e}function getLike(t,e,r,o){fetch(t,e).then(checkStatus).then(function(t){return t.json()}).then(function(e){"/like"===t?!1===e.ok?alert("Something is wrong"):(r.value="DISLIKE",o.innerHTML=parseInt(o.innerHTML)+1):"/dislike"===t&&(!1===e.ok?alert("Something is wrong"):(r.value="LIKE",o.innerHTML=parseInt(o.innerHTML)-1))}).catch(function(t){console.error(t)})}var allposts=document.getElementsByClassName("onepost"),_loop=function(t){var e=t.getElementsByTagName("input")[0];e.addEventListener("click",function(){var r=t.getElementsByTagName("p")[4].innerHTML,o=t.getElementsByTagName("span")[0],n={method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:username,_id:r})};"LIKE"===e.value?getLike("/like",n,e,o):"DISLIKE"===e.value&&getLike("/dislike",n,e,o)})},_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _iterator=allposts[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;_loop(i)}}catch(t){_didIteratorError=!0,_iteratorError=t}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}