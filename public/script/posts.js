function checkStatus(e){if(e.status>=200&&e.status<300)return e;{const t=new Error(e.statusText);throw t.res=e,t}}function getLike(e,t,n,s){fetch(e,t).then(checkStatus).then(e=>e.json()).then(t=>{"/like"===e?!1===t.ok?alert("Something is wrong"):(n.value="DISLIKE",s.innerHTML=parseInt(s.innerHTML)+1):"/dislike"===e&&(!1===t.ok?alert("Something is wrong"):(n.value="LIKE",s.innerHTML=parseInt(s.innerHTML)-1))}).catch(e=>{console.error(e)})}const allposts=document.getElementsByClassName("onepost");for(const e of allposts){const t=e.getElementsByTagName("input")[0];t.addEventListener("click",()=>{const n=e.getElementsByTagName("p")[4].innerHTML,s=e.getElementsByTagName("span")[0],a={method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:username,_id:n})};"LIKE"===t.value?getLike("/like",a,t,s):"DISLIKE"===t.value&&getLike("/dislike",a,t,s)})}