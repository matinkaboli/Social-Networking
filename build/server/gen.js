function*getInfo(e,t,o){for(const n of e)yield new Promise(e=>{showData(`/home/matin/Documents/projects/facebook/userpost/${t}/${n._id}`).then(a=>{const i=n.likes.some(e=>e===t),s={time:moment(n.time).fromNow(),title:n.title,content:a,_id:n._id,likes:n.likes};s.like=!!i,o.push(s),e()}).catch(e=>{console.error(e)})})}function*getData(e,t,o){for(const n of e)yield new Promise(e=>{t.User.find({_id:n}).then(t=>{const n={avatar:t[0].description.avatar,username:t[0].username};o.push(n),e()})})}function*getInfoSearch(e,t,o){for(const n of e)yield new Promise(e=>{showData(`/home/matin/Documents/projects/facebook/userpost/${n.user}/${n._id}`).then(a=>{t.User.find({_id:n.user},(t,i)=>{const s={title:n.title,time:moment(n.tile).fromNow(),content:a,id:n._id,likes:n.likes.length,user:i[0].username};i[0].description.avatar?(s.avatar=i[0].description.avatar,s.status=0):(s.avatar="/default/man.jpg",s.status=1),o.push(s),e()})})})}const showData=require("./showdata"),moment=require("moment");module.exports={getInfo:getInfo,getInfoSearch:getInfoSearch,getData:getData};