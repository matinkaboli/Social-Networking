"use strict";function checkUser(e,a){fetch(e,a).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?username.style.backgroundColor="green":username.value==oldUser?username.style.backgroundColor="green":username.style.backgroundColor="red"})}function checkEmail(e,a){fetch(e,a).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?email.style.backgroundColor="green":email.value===oldEmail?email.style.backgroundColor="green":email.style.backgroundColor="red"})}function checkStatus(e){if(e.status>=200&&e.status<300)return e;var a=new Error(e.statusText);throw a.res=e,a}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function validateUsername(e){return/^[a-zA-Z0-9]+([_ .]?[a-zA-Z0-9])*$/.test(e)}function validatePassword(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)}function checkFields(){return validateEmail(setting.email.value)?!!validateUsername(setting.username.value)||(alert("Write a correct username."),!1):(alert("Write a correct email."),!1)}function changePass(){return passForm.newpassword.value!==passForm.repassword.value?(alert("New password and re-password are not the same"),!1):!!validatePassword(passForm.newpassword.value)||(alert("Your password should have at lease one\nnumber, upper case letter and lower case letter and symbol\nand at least 8 number."),!1)}var form=document.forms.setting,username=form.username,email=form.email,us=document.getElementById("us"),em=document.getElementById("em");username.addEventListener("input",function(){checkUser("/checkusername",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:username.value})})}),email.addEventListener("input",function(){checkEmail("/checkemail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:email.value.toLowerCase()})})});var passForm=document.forms.changepass;