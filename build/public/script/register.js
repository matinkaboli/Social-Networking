"use strict";function checkUser(e,t){fetch(e,t).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?/\ /.test(username.value)?(username.style.backgroundColor="#f03861",form.addEventListener("click",prevent)):(username.style.backgroundColor="#a6ed8e",form.removeEventListener("click",prevent)):(username.style.backgroundColor="#f03861",form.addEventListener("click",prevent))})}function checkEmail(e,t){fetch(e,t).then(checkStatus).then(function(e){return e.json()}).then(function(e){e.ok?/\ /.test(email.value)?(email.style.backgroundColor="#f03861",form.addEventListener("click",prevent)):(email.style.backgroundColor="#a6ed8e",form.removeEventListener("click",prevent)):(email.style.backgroundColor="#f03861",form.addEventListener("click",prevent))})}function checkStatus(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.res=e,t}function prevent(e){e.preventDefault()}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function validateUsername(e){return/^[a-zA-Z0-9]+([_ .]?[a-zA-Z0-9])*$/.test(e)}function validatePassword(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/.test(e)}function lastCheck(){return form.name.value.length>25?(alert("Name very too long."),!1):form.username.value.length>30?(alert("Username very too long."),!1):form.email.value.length>100?(alert("Email is very long."),!1):form.password.value.length>60?(alert("Password is very long."),!1):form.password.value.length<8?(alert("Password is very short."),!1):/\ /.test(form.username.value)?(alert("Write a standard username"),!1):form.password.value!==form.repassword.value?(alert("Write a correct password."),!1):validateEmail(form.email.value)?validateUsername(form.username.value)?!!validatePassword(form.password.value)||(alert("Your password should have at lease one\nnumber, upper case letter and lower case letter and symbol\nand at least 8 number."),!1):(alert("Write a standard username"),!1):(alert("Write a correct email."),!1)}var form=document.forms.register,username=form.username,email=form.email;username.addEventListener("input",function(){checkUser("/checkusername",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({username:username.value.toLowerCase()})})}),email.addEventListener("input",function(){checkEmail("/checkemail",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:email.value.toLowerCase()})})}),fetch("https://freegeoip.net/json/").then(function(e){return e.json()}).then(function(e){fetch("/checkip",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({ip:e.ip,country:e.country_name})}).then(function(e){return e.json()}).then(function(e){console.log(e)})});